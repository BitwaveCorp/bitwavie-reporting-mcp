# =============================================================================
# REPORTING MCP SERVER - Environment Configuration
# =============================================================================

# Application Configuration
NODE_ENV=development
LOG_LEVEL=info
MCP_SERVER_NAME=reporting-mcp-server
MCP_SERVER_VERSION=1.0.0

# =============================================================================
# BIGQUERY CONFIGURATION
# =============================================================================

# Google Cloud Project Configuration
GOOGLE_CLOUD_PROJECT_ID=bitwave-solutions
BIGQUERY_DATASET_ID=0_Bitwavie_MCP
BIGQUERY_TABLE_ID=2622d4df5b2a15ec811e_gl_actions


# Authentication (choose one method)
# Method 1: Service Account Key File
GOOGLE_APPLICATION_CREDENTIALS=/Users/orphil/Desktop/ bitwavie/reporting-mcp/keys/bitwave-solutions-a99267d2687a.json

# Method 2: Service Account Key JSON (base64 encoded)
# GOOGLE_CREDENTIALS_JSON=ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsC...

# Method 3: Default Application Credentials (for local development)
# Leave both above empty to use default credentials

# BigQuery Configuration
BIGQUERY_LOCATION=US
BIGQUERY_JOB_TIMEOUT_MS=60000
BIGQUERY_MAX_RESULTS=10000

# =============================================================================
# DATA SOURCE CONFIGURATION
# =============================================================================

# Default data source type: 'bigquery' or 'csv'
DEFAULT_DATA_SOURCE_TYPE=bigquery

# CSV Configuration (fallback)
CSV_DATA_PATH=/data/actions_report.csv
CSV_ENCODING=utf8

# =============================================================================
# QUERY PROCESSING CONFIGURATION
# =============================================================================

# Query Cache Settings
QUERY_CACHE_TTL_MS=300000
QUERY_CACHE_MAX_SIZE=100

# Query Limits
MAX_QUERY_ROWS=1000000
QUERY_TIMEOUT_MS=120000

# Natural Language Processing
NLP_CONFIDENCE_THRESHOLD=0.8
AUTO_CONFIRM_MAPPINGS=false

# =============================================================================
# REPORT CONFIGURATION
# =============================================================================

# Report Generation Limits
MAX_LOTS_REPORT_SIZE=50000
MAX_ROLLFORWARD_ASSETS=1000
MAX_INVENTORY_RECORDS=10000

# Report Output Formats
DEFAULT_EXPORT_FORMAT=json
ENABLE_CSV_EXPORT=true
ENABLE_EXCEL_EXPORT=false

# Financial Precision
CURRENCY_DECIMAL_PLACES=2
CRYPTO_DECIMAL_PLACES=8
PERCENTAGE_DECIMAL_PLACES=2

# =============================================================================
# SECURITY & PERFORMANCE
# =============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Request Validation
VALIDATE_SCHEMAS=true
SANITIZE_INPUTS=true

# Performance Monitoring
ENABLE_PERFORMANCE_METRICS=true
SLOW_QUERY_THRESHOLD_MS=5000

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================

# Other MCP Servers (for future integration)
INGESTION_MCP_URL=http://localhost:3001
PRICING_MCP_URL=http://localhost:3002
CALCULATION_MCP_URL=http://localhost:3003
CATEGORIZATION_MCP_URL=http://localhost:3004
DECISIONS_MCP_URL=http://localhost:3005

# Message Queue (for inter-MCP communication)
MESSAGE_QUEUE_URL=redis://localhost:6379
MESSAGE_QUEUE_PREFIX=crypto_accounting

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Development Settings
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_QUERY_LOGGING=true
ENABLE_PERFORMANCE_LOGGING=true

# Testing Configuration
TEST_DATA_PATH=/test-data
MOCK_BIGQUERY=false
TEST_TIMEOUT_MS=30000

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Cloud Run Configuration
PORT=8080
CLOUD_RUN_SERVICE_NAME=reporting-mcp-server
CLOUD_RUN_REGION=us-central1

# Health Check Configuration
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30

# Resource Limits
MAX_MEMORY_MB=2048
MAX_CPU_CORES=1

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Logging Configuration
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_CORRELATION_ID=true

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Tracing Configuration
TRACING_ENABLED=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Error Reporting
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Experimental Features
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_PREDICTIVE_QUERIES=false
ENABLE_REAL_TIME_UPDATES=false

# Report Features
ENABLE_LOTS_REPORT=true
ENABLE_ROLLFORWARD_REPORT=true
ENABLE_INVENTORY_REPORT=true
ENABLE_CUSTOM_REPORTS=false

# Query Features
ENABLE_NATURAL_LANGUAGE=true
ENABLE_SQL_PASSTHROUGH=false
ENABLE_QUERY_OPTIMIZATION=true